{
    "body": "Hey guys, \n \nI want to set up SASL authentication using LDAPDB, but it seems that \npostfix connects to LDAP but doesn't send anything to it... \n \nI try to authenticate using 'auth plain ', and I receive : \n \n535 5.7.8 Error: authentication failed: authentication failure \n \nConnection to LDAP works fine at the network level, but the only thing \nthat postfix send to Slapd (sniffed using tcpdump) is a \"UNBIND\" request. \nConfirmed by the logs of slapd: \n \n---- \nMay 18 17:25:29 samchiel slapd[1431]: conn=35 fd=17 ACCEPT from \nIP=127.0.0.1:57368 (IP=127.0.0.1:389) \nMay 18 17:25:29 samchiel slapd[1431]: conn=35 op=0 UNBIND \nMay 18 17:25:29 samchiel slapd[1431]: conn=35 fd=17 closed \n---- \n \nPostfix says the following: \n \n---- \nMay 18 17:25:29 samchiel postfix/smtpd[12094]: localhost[127.0.0.1]: 535 \n5.7.8 Error: authentication failed: authentication failure \n---- \n \nSo, I assumed there might be something wrong with my configuration. Since \nI'm on Debian Squeeze (for testing purpose), I have a \n/etc/postfix/sasl/smtpd.conf that contains the configuration of ldapdb: \n \n---- \n# cat /etc/postfix/sasl/smtpd.conf \npwcheck_method: auxprop \nauxprop_plugin: ldapdb \nmech_list: PLAIN LOGIN \nldapdb_uri: ldap://localhost \nldapdb_id: postfix \nldapdb_pw: ZZZZzzzzZZZZZZZ \nldapdb_mech: DIGEST-MD5 PLAIN LOGIN \n---- \n \nand sasl directives in main.conf \n \n---- \n# grep smtpd_sasl main.cf \nsmtpd_sasl_type = cyrus \nsmtpd_sasl_auth_enable = yes \nsmtpd_sasl_path = smtpd \nsmtpd_sasl_security_options = noanonymous \nsmtpd_sasl_local_domain = $mydomain \nsmtpd_sasl_authenticated_header = yes \n---- \n \n \nDid I miss anything ? Any clue on why postfix doesn't send anything but an \nUNBIND request to LDAP ? \n \n \n \nThanks, \nJulien \n \n \n-- \nTo UNSUBSCRIBE, email to debian-user-REQUEST@lists.debian.org \nwith a subject of \"unsubscribe\". Trouble? Contact listmaster@lists.debian.org \nArchive: http://lists.debian.org/505f7e7fe90abdcfc03c0d7611f5ceca@localhost", 
    "to": [
        "Debian user <debian-user@lists.debian.org>"
    ], 
    "from": "Julien Vehent <julien@linuxwall.info>", 
    "subject": "Postfix, SASL and LDAPDB"
}