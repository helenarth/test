{
    "body": "On 04/07/2010 07:48 PM, Stephen Powell wrote: \n> On Wed, 7 Apr 2010 13:17:30 -0400 (EDT), Lorenzo Bettini wrote: \n>> I tried also with --revision, e.g., \n>> \n>> fakeroot make-kpkg --revision=lore01 --initrd \n>> --append-to-version=-recompiled kernel-image kernel-headers \n>> \n>> but I cannot seem to get rid of that +drm33.1 string: \n>> \n>> linux-headers-2.6.32.10+drm33.1-recompiled_2.6.32.10+drm33.1-recompiled-10.00.Custom_i386.deb \n> \n> \"10.00.Custom\" is the \n> default value for --revision. The fact that you see it in the package \n> file name means that it did not recognize the option. Try it this way: \n> \n> fakeroot make-kpkg clean \n> fakeroot make-kpkg --append-to-version -recompiled --revision x.x.xxx \\ \n> --initrd kernel_image kernel_headers \n> \n> Note: you must always issue \"make-kpkg clean\" after running \"make menuconfig\" \n> or after running \"make-kpkg\" with any target other than \"clean\". Otherwise, \n> version and revision numbers will not work as expected. Assuming that you \n> are using official Debian kernel sources, you will want to make the value \n> for --revision match the \"version\" of the linux-source-2.6.32 package. \n> I know the web page I pointed you to is long and boring. But the answers to \n> all of your problems are in there. Where did you get your kernel sources, \n> by the way? And why are you compiling a custom kernel in the first place? \n> \n \nStephen \n \nsorry I pasted the wrong name: --revision actually took effect since the \ngenerated .deb is now (note the 'lore01') \n \nlinux-image-2.6.32.10+drm33.1-recompiled_lore01_i386.deb \n \nbut what I need to do is to get rid of '+drm33.1' which seems to be \nautomatically added... \n \nthe kernel sources are from the ubuntu lucid package 'linux-source-2.6.32'. \n \ncheers \n Lorenzo \n \n-- \nLorenzo Bettini, PhD in Computer Science, DI, Univ. Torino \nHOME: http://www.lorenzobettini.it MUSIC: http://www.purplesucker.com \nBLOGS: http://tronprog.blogspot.com http://longlivemusic.blogspot.com \n \n \n \n-- \nTo UNSUBSCRIBE, email to debian-user-REQUEST@lists.debian.org \nwith a subject of \"unsubscribe\". Trouble? Contact listmaster@lists.debian.org \nArchive: http://lists.debian.org/hpk99h$mh2$1@dough.gmane.org", 
    "to": [
        "debian-user@lists.debian.org"
    ], 
    "is_spam": false, 
    "from": "Lorenzo Bettini <bettini@dsi.unifi.it>", 
    "subject": "Re: recompiling the kernel with a different version name"
}