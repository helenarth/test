{
    "body": "On 05/19/2010 12:47 PM, Erwan David wrote: \n> Hi, \n> \n> I have a setup with 2 disks and following raid setting: \n> \n> sda1+sdb1 -> md0, / \n> sda2+sdb2 -> md1 swap \n> sda3+sdb3 -> md2 /home \n> \n> I'd like to resize partitions to get more space on md2 and less on md0. \n> \n> What would bea good way to achieve this ? \n \nThe \"best\" way to acheive this would be to use LVM above your software \nRAID. At that point, it would be very painless, compared to what is \nahead of you now. If you're curious, here would be the steps: \n \nmdadm -C /dev/md0 -n 2 -l 1 -a yes /dev/sd{a,b} \npvcreate /dev/md0 \nvgcreate home /dev/md0 \nlvcreate -L 1G -n swap home \nlvcreate -L 10G -n root home \nlvcreate -l 100%FREE -n home home \n \nThen, for giving more space to home, and less to root, boot off a live \nCD, and (assuming you're using ext3/4): \n \ne2fsck /dev/home/root \nresize2fs /dev/home/root 6G \nlvreduce -L 6G /dev/home/root \nlvextend -L +4G /dev/home/home \nresize2fs /dev/home/home \n \nThat's it! However, because you chose not to use LVM, you will need to \nboot of a live CD that supports Linux software RAID, rebuild the array, \nand perform the resizing there. I'm not sure if GParted supports this or \nnot. Worth checking out, however. \n \nI would personally recommend backing up your data, and reinstalling, \nwith LVM on top of your software RAID. You still have the redundancy, \nand you have the awesome flexibility of resizing volumes with great ease. \n \n-- \n. O . O . O . . O O . . . O . \n. . O . O O O . O . O O . . O \nO O O . O . . O O O O . O O O", 
    "to": [
        "debian-user@lists.debian.org"
    ], 
    "is_spam": false, 
    "from": "Aaron Toponce <aaron.toponce@csmining.org>", 
    "subject": "Re: Resizing Raid 1 partitions"
}