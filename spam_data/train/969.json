{
    "body": "Hi everyone, \n \nWe are struggling with an offset issue in trying to sync a movie \nplaying in the background with the start of a sequence grabber record. \n The end result of the capture always seems to be ahead of the actual \nmovie that is playing back. We are trying to pipe the end result into \nan audio echo cancellation library and this offset is causing pain. \n \nHere is the issue. \n \n- We use SGDataProc callback for the recording and preview. \n- We start by calling SGStartRecord() for the preview. \n- We then PreRoll() the movie and set up all the capture movies. \n- We share the SG SoundChannel clock with the movie, and the VideoChannel. \n- After this is all complete we call SetMovieRate() to start the \nmovie. And then log a time stamp from the clock for recording. This \nhappens about 5 seconds after previewing. \n- We call AddMediaSample() when the time stamps (adjusted for scale) \npassed into the proc are greater than the time set for recording. We \nadjust the audio buffer and sample input so this is cut at the right \ntime based on the time stamp. \n- We are using a USB Audio Mic and a USB Video Camera. \n- We have good A/V sync (lip sync) \n- When we compare the recorded track to the background track the \nrecorded echo starts before the echo in the movie. This is by about \n0.1 seconds give or take. One would expect the echo to happen after \nnot before. \n \nWe have tried to manually offset the time stamp for start time. But \nthis then produces A/V sync (lip sync) issues. I assume this is \nbecause our \nvideo frame is getting there faster than our audio frame. As one would expect. \n \nIs there any reason why these frames are getting dropped in the \nrecording? Does anyone have any ideas to get these 2 in sync. \n \nThx for your time, \nMatt \n _______________________________________________ \nDo not post admin requests to the list. They will be ignored. \nQuickTime-API mailing list (QuickTime-API@lists.apple.com) \nHelp/Unsubscribe/Update your Subscription: \nhttp://lists.apple.com/mailman/options/quicktime-api/mlsubscriber.tech%40csmining.org \n \nThis email sent to mlsubscriber.tech@csmining.org", 
    "to": [
        "quicktime-api@lists.apple.com"
    ], 
    "is_spam": false, 
    "from": "Matt Veenstra <matts_lists@tribalmedia.com>", 
    "subject": "Sequence Grabber and Movie Sync - Recording starts earlier"
}